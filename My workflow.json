{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        48,
        0
      ],
      "id": "ad6547bb-9f33-4e77-b27a-fc8d70f9f125",
      "name": "When chat message received",
      "webhookId": "c3e52364-6cd5-4e25-990e-c9d3ddc11955"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=You are a calendar assistant. Your job is to check my availability and create new events for times that my calendar is free. \n\nYou are to use the Chat Model to process the user's requests, then check using the Check Availability tool on whether that time is free. You can use the Google Calendar tool to create a new event in my calendar if I am available.\n\nToday's date is {{ DateTime.now().setZone('Asia/Kolkata').toFormat('dd LLL yyyy HH:mm:ss') }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        256,
        48
      ],
      "id": "dc0be870-51da-403c-8e00-f7ae54c7a925",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        128,
        256
      ],
      "id": "d2412af6-d707-4513-8320-13555fe43012",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "frk4lZsOvgCwc2BC",
          "name": "n8n free OpenAI API credits"
        }
      }
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "4a021d7a6d1d39cc9dc5f04a2d0c12abaf00fd6c47cb951b0e29aa9ca3288c31@group.calendar.google.com",
          "mode": "list",
          "cachedResultName": "work calender"
        },
        "start": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}",
        "end": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        416,
        256
      ],
      "id": "72d76f0f-8dcc-417b-92b8-0e0fea3a962f",
      "name": "Create an event in Google Calendar",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "1g1v8rxgjxbPfClC",
          "name": "Google Calendar account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Create an event in Google Calendar": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "76c21475-2835-4397-8de6-91ba38d766a4",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "5cf2cac11fd37d3d8980a42d1ef016e39d61939ae6b3d0fde04758fbb1c85a8a"
  },
  "id": "uBqTl0x9YyaGGEBY",
  "tags": []
}